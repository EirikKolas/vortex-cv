#!/usr/bin/env python

# rosrun rqt_gui rqt_gui -s reconfigure

PACKAGE = "feature_detection"

from dynamic_reconfigure.parameter_generator_catkin import *

gen = ParameterGenerator()

group_canny = gen.add_group("Canny", type="tab")
group_canny.add("canny_threshold1",       int_t,  0,  "threshold 1 for the hypertesis",   100,    0,  1000)
group_canny.add("canny_threshold2",       int_t,  1,  "threshold 2 for the hypertesis",   200,    0,  1000)
canny_aperture_size_enum = gen.enum([ gen.const("Small",      int_t, 3, "A small constant"),
                       gen.const("Medium",     int_t, 5, "A medium constant"),
                       gen.const("Large",      int_t, 7, "A large constant")],
                     "An enum to set sobel procedure aperture size")
group_canny.add("canny_aperture_size", int_t, 2, "A size parameter which is edited via an enum", 3, 3, 7, edit_method=canny_aperture_size_enum)

group_hsv = gen.add_group("HSV", type="tab")
group_hsv.add("hsv_hue_min",       int_t,  3,  "PLACEHOLDER",   179,    0,  179)
group_hsv.add("hsv_hue_max",       int_t,  4,  "PLACEHOLDER",   0,    0,  179)
group_hsv.add("hsv_sat_min",       int_t,  5,  "PLACEHOLDER",   255,    0,  255)
group_hsv.add("hsv_sat_max",       int_t,  6,  "PLACEHOLDER",   0,    0,  255)
group_hsv.add("hsv_val_min",       int_t,  7,  "PLACEHOLDER",   255,    0,  255)
group_hsv.add("hsv_val_max",       int_t,  8,  "PLACEHOLDER",   0,    0,  255)

group_blur = gen.add_group("Blur", type="tab")
group_blur.add("ksize1", int_t,  9,  "PLACEHOLDER", 7, 0, 20)
group_blur.add("ksize2", int_t,  10,  "PLACEHOLDER", 7, 0, 20)
group_blur.add("sigma", double_t,  11,  "PLACEHOLDER", .8, 0, 10)

group_thresholding = gen.add_group("Thresholding", type="tab")
group_thresholding.add("blocksize", int_t,  12,  "PLACEHOLDER", 11, 0, 50)
group_thresholding.add("C", int_t,  13,  "PLACEHOLDER", 2, -10, 30)

group_thresholding = gen.add_group("ErosionDilation", type="tab")
group_thresholding.add("ed_ksize", int_t,  14,  "PLACEHOLDER", 11, 0, 50)
group_thresholding.add("erosion_iterations", int_t,  15,  "PLACEHOLDER", 1, 0, 30)
group_thresholding.add("dilation_iterations", int_t,  16,  "PLACEHOLDER", 1, 0, 30)

exit(gen.generate(PACKAGE, "feature_detection_cfg", "FeatureDetection"))